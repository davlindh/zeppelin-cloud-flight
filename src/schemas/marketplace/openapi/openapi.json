{
  "openapi": "3.0.0",
  "info": {
    "title": "Service Auction Emporium API",
    "version": "1.0.0",
    "description": "\n# Service Auction Emporium API\n\nWelcome to the comprehensive API for the Service Auction Emporium - your premium marketplace for auctions, products, and professional services.\n\n## Features\n\n- **Live Auctions**: Real-time bidding with WebSocket support\n- **Product Catalog**: Comprehensive product management with variants\n- **Service Marketplace**: Professional service bookings and management\n- **Real-time Updates**: Live notifications and status updates\n- **Advanced Search**: Powerful filtering and search capabilities\n\n## Authentication\n\nMost endpoints require authentication. Include your JWT token in the Authorization header:\n\n```\nAuthorization: Bearer <your-jwt-token>\n```\n\n## Rate Limiting\n\nAPI requests are rate-limited to ensure fair usage:\n- **Authenticated users**: 1000 requests per hour\n- **Anonymous users**: 100 requests per hour\n\n## Pagination\n\nList endpoints support pagination with these query parameters:\n- `page`: Page number (default: 1)\n- `limit`: Items per page (default: 20, max: 100)\n\n## Error Handling\n\nAll errors follow a consistent format:\n\n```json\n{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"ERROR_CODE\",\n    \"message\": \"Human readable error message\",\n    \"details\": {},\n    \"field_errors\": {}\n  },\n  \"timestamp\": \"2025-01-01T00:00:00.000Z\",\n  \"request_id\": \"uuid\"\n}\n```\n\n## WebSocket Events\n\nReal-time updates are available via WebSocket connections:\n- **Auction Updates**: Live bid updates and status changes\n- **Notification Events**: User-specific notifications\n- **Service Status**: Booking confirmations and status changes\n    ",
    "contact": {
      "name": "API Support",
      "email": "support@auctionemporium.com",
      "url": "https://auctionemporium.com/support"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:8081/api",
      "description": "Development server"
    },
    {
      "url": "https://api.auctionemporium.com",
      "description": "Production server"
    }
  ],
  "tags": [
    {
      "name": "Auctions",
      "description": "Live auction management and bidding operations"
    },
    {
      "name": "Products",
      "description": "Product catalog and inventory management"
    },
    {
      "name": "Services",
      "description": "Professional service marketplace"
    },
    {
      "name": "Auth",
      "description": "Authentication and authorization"
    },
    {
      "name": "Health",
      "description": "System health and monitoring"
    },
    {
      "name": "Files",
      "description": "File upload and management"
    }
  ],
  "paths": {},
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT token obtained from /auth/login endpoint"
      },
      "apiKey": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key",
        "description": "API key for service-to-service communication"
      }
    },
    "parameters": {
      "PageParam": {
        "name": "page",
        "in": "query",
        "description": "Page number for pagination",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        }
      },
      "LimitParam": {
        "name": "limit",
        "in": "query",
        "description": "Number of items per page",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 20
        }
      },
      "SortOrderParam": {
        "name": "sort_order",
        "in": "query",
        "description": "Sort order for results",
        "required": false,
        "schema": {
          "type": "string",
          "enum": ["asc", "desc"],
          "default": "asc"
        }
      }
    },
    "schemas": {
      "ApiError": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean", "example": false },
          "error": {
            "type": "object",
            "properties": {
              "code": { "type": "string", "example": "VALIDATION_ERROR" },
              "message": { "type": "string", "example": "Invalid input data" },
              "details": { "type": "object" },
              "field_errors": { 
                "type": "object",
                "additionalProperties": {
                  "type": "array",
                  "items": { "type": "string" }
                }
              }
            }
          },
          "timestamp": { "type": "string", "format": "date-time" },
          "request_id": { "type": "string", "format": "uuid" }
        }
      },
      "AuctionResponse": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "title": { "type": "string", "example": "Vintage Camera" },
          "description": { "type": "string" },
          "starting_bid": { "type": "number", "example": 150.00 },
          "current_bid": { "type": "number", "example": 275.00 },
          "end_time": { "type": "string", "format": "date-time" },
          "category": { 
            "type": "string", 
            "enum": ["electronics", "fashion", "home", "sports", "books", "art", "collectibles", "automotive"]
          },
          "condition": {
            "type": "string",
            "enum": ["new", "like-new", "good", "fair", "poor"]
          },
          "image": { "type": "string", "format": "url" },
          "bidders": { "type": "integer", "minimum": 0 },
          "status": {
            "type": "string",
            "enum": ["active", "ended", "upcoming"]
          },
          "created_at": { "type": "string", "format": "date-time" },
          "updated_at": { "type": "string", "format": "date-time" }
        }
      },
      "ProductResponse": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "title": { "type": "string", "example": "Premium Headphones" },
          "description": { "type": "string" },
          "price": { "type": "number", "example": 299.99 },
          "original_price": { "type": "number", "example": 399.99 },
          "category": { "type": "string" },
          "rating": { "type": "number", "minimum": 0, "maximum": 5 },
          "reviews": { "type": "integer", "minimum": 0 },
          "in_stock": { "type": "boolean" },
          "image": { "type": "string", "format": "url" },
          "images": {
            "type": "array",
            "items": { "type": "string", "format": "url" }
          },
          "brand": { "type": "string" },
          "tags": {
            "type": "array",
            "items": { "type": "string" }
          },
          "created_at": { "type": "string", "format": "date-time" },
          "updated_at": { "type": "string", "format": "date-time" }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ]
}
